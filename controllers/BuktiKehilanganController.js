const a2_0x4c28a8=a2_0x2c4d;(function(_0x515e16,_0xe5b2c9){const _0x44694f=a2_0x2c4d,_0x36485e=_0x515e16();while(!![]){try{const _0x5cfb34=parseInt(_0x44694f(0x1ed))/0x1+-parseInt(_0x44694f(0x1d2))/0x2+-parseInt(_0x44694f(0x1f2))/0x3+-parseInt(_0x44694f(0x1d8))/0x4+parseInt(_0x44694f(0x1e3))/0x5+parseInt(_0x44694f(0x1d1))/0x6+parseInt(_0x44694f(0x1e4))/0x7;if(_0x5cfb34===_0xe5b2c9)break;else _0x36485e['push'](_0x36485e['shift']());}catch(_0x4280de){_0x36485e['push'](_0x36485e['shift']());}}}(a2_0x4bf2,0x633d7));function a2_0x4bf2(){const _0x102043=['body','4533726dYtRxw','1268520gyfjme','destroy','ketua_id','user','all','ketua','2108572tjwVKd','/pengawasan_internal/surat-tugas?get=all&search=','GATEWAYE_URL','push','pegawai','role_id','log','findAll','data','length','token','2383070MZAOww','6839385WKErew','surat_tugas_id','findAndCountAll','/data-tenaga-audit/','Bearer\x20','params','ceil','../models/index','search','53433xImVFR','/kepegawaian/data-tenaga-audit?get=all&search=','desc','sortby','send','2084499eXaZHz','update','pegawai_id','BuktiKehilangan','terjadi\x20error','findOne','get','KEPEGAWAIAN_URL','env','includes','dataValues','query'];a2_0x4bf2=function(){return _0x102043;};return a2_0x4bf2();}const {Op}=require('sequelize'),model=require(a2_0x4c28a8(0x1eb)),{default:axios}=require('axios'),getPaginationTable=(_0x249746,_0x3d77bb)=>{const _0x1c0c7b=a2_0x4c28a8,_0x316866=_0x3d77bb?+_0x3d77bb:0xa,_0x52ce9d=_0x249746?Math[_0x1c0c7b(0x1ea)](_0x249746-0x1)*_0x316866:0x0;return{'limit':_0x316866,'offset':_0x52ce9d};},getPagingData=(_0x39f6d5,_0x2b2489,_0x2c8c50)=>{const _0x556df6=a2_0x4c28a8,{count:_0xb789e9,rows:_0x4234a4}=_0x39f6d5,_0x1af30e=_0x2b2489?+_0x2b2489:0x0,_0x53c9f8=Math[_0x556df6(0x1ea)](_0xb789e9/_0x2c8c50);return{'totalItems':_0xb789e9,'data':_0x4234a4,'totalPages':_0x53c9f8,'currentPage':_0x1af30e};},getPagination=(_0x20c829,_0x9623b6)=>{const _0x225167=_0x9623b6?+_0x9623b6:0xa,_0x2713e2=_0x20c829?Math['ceil'](_0x20c829-0x1)*_0x225167:0x0;return{'limit':_0x225167,'offset':_0x2713e2};};function a2_0x2c4d(_0x15fa18,_0xcc3ffd){const _0x4bf2cc=a2_0x4bf2();return a2_0x2c4d=function(_0x2c4d8b,_0x3f3865){_0x2c4d8b=_0x2c4d8b-0x1cd;let _0x295a1f=_0x4bf2cc[_0x2c4d8b];return _0x295a1f;},a2_0x2c4d(_0x15fa18,_0xcc3ffd);}module['exports']={async 'index'(_0x560859,_0x5b98c6){const _0x819ddb=a2_0x4c28a8;try{const {page:_0x14729e,size:_0x5e2f51}=_0x560859[_0x819ddb(0x1cf)],{limit:_0x5f5230,offset:_0x4ff5a4}=getPagination(_0x14729e,_0x5e2f51);let _0x47fc1e=_0x560859[_0x819ddb(0x1cf)][_0x819ddb(0x1f0)]||'createdAt',_0x38c3b=_0x560859[_0x819ddb(0x1cf)]['orderby']||_0x819ddb(0x1ef),_0x2ad289=_0x560859['query'][_0x819ddb(0x1ec)]||'',_0x5c3394={};if(_0x2ad289!=''){const _0x54dc81=await model[_0x819ddb(0x1f5)][_0x819ddb(0x1df)]({'attributes':[_0x819ddb(0x1e5)],'group':['surat_tugas_id']});let _0x5c02bc=[];for(let _0x1d8fbc=0x0;_0x1d8fbc<_0x54dc81[_0x819ddb(0x1e1)];_0x1d8fbc++){const _0x2d9ef2=_0x54dc81[_0x1d8fbc][_0x819ddb(0x1ce)];_0x5c02bc[_0x819ddb(0x1db)](_0x2d9ef2[_0x819ddb(0x1e5)]);}const _0x4b02c1=await model[_0x819ddb(0x1f5)][_0x819ddb(0x1df)]({'attributes':[_0x819ddb(0x1f4)],'group':['pegawai_id']});let _0x485bca=[];for(let _0x369adf=0x0;_0x369adf<_0x4b02c1[_0x819ddb(0x1e1)];_0x369adf++){const _0x254f6e=_0x4b02c1[_0x369adf][_0x819ddb(0x1ce)];_0x485bca[_0x819ddb(0x1db)](_0x254f6e[_0x819ddb(0x1f4)]);}const [_0x480333,_0x203475]=await Promise[_0x819ddb(0x1d6)]([axios[_0x819ddb(0x1f8)](process[_0x819ddb(0x1fa)][_0x819ddb(0x1da)]+_0x819ddb(0x1d9)+_0x2ad289+'&arrid='+_0x5c02bc,{'headers':{'Authorization':'Bearer\x20'+_0x560859[_0x819ddb(0x1e2)]}}),axios[_0x819ddb(0x1f8)](process[_0x819ddb(0x1fa)][_0x819ddb(0x1da)]+_0x819ddb(0x1ee)+_0x2ad289+'&arrid='+_0x485bca,{'headers':{'Authorization':_0x819ddb(0x1e8)+_0x560859[_0x819ddb(0x1e2)]}})]),_0x9e7707=_0x480333[_0x819ddb(0x1e0)][_0x819ddb(0x1e0)],_0xb4d87c=_0x203475[_0x819ddb(0x1e0)]['data'];let _0x3fbd17=[];for(let _0x1349bc=0x0;_0x1349bc<_0x9e7707[_0x819ddb(0x1e1)];_0x1349bc++){const _0xc64223=_0x9e7707[_0x1349bc];_0x3fbd17[_0x819ddb(0x1db)](_0xc64223['id']);}_0x3fbd17[_0x819ddb(0x1e1)]>0x0&&(_0x5c3394[_0x819ddb(0x1e5)]={[Op['in']]:_0x3fbd17});let _0x57350c=[];for(let _0x293674=0x0;_0x293674<_0xb4d87c[_0x819ddb(0x1e1)];_0x293674++){const _0x3f5da8=_0xb4d87c[_0x293674];_0x57350c['push'](_0x3f5da8['id']);}_0x57350c['length']>0x0&&(_0x5c3394['pegawai_id']={[Op['in']]:_0x57350c});}(_0x560859[_0x819ddb(0x1d5)][_0x819ddb(0x1dd)]!==0x1||_0x560859[_0x819ddb(0x1cf)][_0x819ddb(0x1f8)]&&!_0x560859[_0x819ddb(0x1cf)][_0x819ddb(0x1f8)][_0x819ddb(0x1cd)](_0x819ddb(0x1d6)))&&(_0x5c3394['pegawai_id']=_0x560859[_0x819ddb(0x1d5)]['pegawai_id']);const _0x1446ae=await model[_0x819ddb(0x1f5)][_0x819ddb(0x1e6)]({'where':_0x5c3394,'order':[[_0x47fc1e,_0x38c3b]],'limit':_0x5f5230,'offset':_0x4ff5a4});var _0x260e54=[];for(let _0x12414d=0x0;_0x12414d<_0x1446ae['rows'][_0x819ddb(0x1e1)];_0x12414d++){var _0x581482=_0x1446ae['rows'][_0x12414d][_0x819ddb(0x1ce)],_0x2c3777={};_0x581482[_0x819ddb(0x1f4)]?(_0x2c3777=await axios[_0x819ddb(0x1f8)](process[_0x819ddb(0x1fa)][_0x819ddb(0x1f9)]+'/data-tenaga-audit/'+_0x581482['pegawai_id']),_0x581482[_0x819ddb(0x1dc)]=_0x2c3777[_0x819ddb(0x1e0)]['data']):_0x581482[_0x819ddb(0x1dc)]=_0x2c3777,_0x260e54[_0x819ddb(0x1db)](_0x581482);}_0x1446ae['rows']=_0x260e54;const _0x420ab9=getPagingData(_0x1446ae,_0x14729e,_0x5f5230);_0x5b98c6[_0x819ddb(0x1f1)]({'status':!![],..._0x420ab9});}catch(_0x5a3d37){console[_0x819ddb(0x1de)](_0x5a3d37),_0x5b98c6['send']({'status':![],'message':_0x819ddb(0x1f6)});}},async 'add'(_0x4dbba8,_0x33866a){const _0x659e88=a2_0x4c28a8;try{var _0x2b377d=_0x4dbba8[_0x659e88(0x1d0)];(_0x2b377d['pegawai_id']==''||!_0x2b377d['pegawai_id'])&&(_0x2b377d['pegawai_id']=_0x4dbba8[_0x659e88(0x1d5)]['pegawai_id']);const _0xb29cd0=await model[_0x659e88(0x1f5)]['create'](_0x2b377d);_0x33866a[_0x659e88(0x1f1)]({'status':!![],'data':_0xb29cd0});}catch(_0x5dd953){console[_0x659e88(0x1de)](_0x5dd953),_0x33866a['send']({'status':![],'message':'terjadi\x20error'});}},async 'detail'(_0x38999d,_0xd00312){const _0x359105=a2_0x4c28a8;try{const _0x266fb1=await model[_0x359105(0x1f5)][_0x359105(0x1f7)]({'where':{'id':_0x38999d['params']['id']}});var _0x20f2ee=_0x266fb1['dataValues'],_0x31b06d={};_0x20f2ee[_0x359105(0x1f4)]?(_0x31b06d=await axios[_0x359105(0x1f8)](process[_0x359105(0x1fa)]['KEPEGAWAIAN_URL']+_0x359105(0x1e7)+_0x20f2ee['pegawai_id'],{'headers':{'Authorization':_0x359105(0x1e8)+_0x38999d['token']}}),_0x20f2ee['pegawai']=_0x31b06d[_0x359105(0x1e0)][_0x359105(0x1e0)]):_0x20f2ee['pegawai']=_0x31b06d;var _0x1755f1={};_0x20f2ee[_0x359105(0x1d4)]?(_0x1755f1=await axios['get'](process['env'][_0x359105(0x1f9)]+_0x359105(0x1e7)+_0x20f2ee[_0x359105(0x1d4)],{'headers':{'Authorization':_0x359105(0x1e8)+_0x38999d[_0x359105(0x1e2)]}}),_0x20f2ee[_0x359105(0x1d7)]=_0x1755f1['data'][_0x359105(0x1e0)]):_0x20f2ee[_0x359105(0x1d7)]=_0x1755f1,_0xd00312['send']({'status':!![],'data':_0x20f2ee});}catch(_0x124a42){console[_0x359105(0x1de)](_0x124a42),_0xd00312['send']({'status':![],'message':_0x359105(0x1f6)});}},async 'update'(_0x43f45e,_0x37d33e){const _0x55fe05=a2_0x4c28a8;try{var _0x40835d=_0x43f45e[_0x55fe05(0x1d0)];(_0x40835d['pegawai_id']==''||!_0x40835d[_0x55fe05(0x1f4)])&&(_0x40835d[_0x55fe05(0x1f4)]=_0x43f45e[_0x55fe05(0x1d5)][_0x55fe05(0x1f4)]);const _0x19bc9d=await model['BuktiKehilangan'][_0x55fe05(0x1f3)](_0x40835d,{'where':{'id':_0x43f45e[_0x55fe05(0x1e9)]['id']}});_0x37d33e[_0x55fe05(0x1f1)]({'status':!![],'data':_0x19bc9d});}catch(_0x323f50){console['log'](_0x323f50),_0x37d33e[_0x55fe05(0x1f1)]({'status':![],'message':_0x55fe05(0x1f6)});}},async 'delete'(_0x218d25,_0xff2bd3){const _0x1ad5b8=a2_0x4c28a8;try{const _0x51f4b8=await model['BuktiKehilangan'][_0x1ad5b8(0x1d3)]({'where':{'id':_0x218d25[_0x1ad5b8(0x1e9)]['id']}});_0xff2bd3['send']({'status':!![],'data':_0x51f4b8});}catch(_0x50b91f){console[_0x1ad5b8(0x1de)](_0x50b91f),_0xff2bd3[_0x1ad5b8(0x1f1)]({'status':![],'message':_0x1ad5b8(0x1f6)});}}};