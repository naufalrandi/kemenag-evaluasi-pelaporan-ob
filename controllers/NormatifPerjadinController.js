const a6_0x4bff4f=a6_0x460f;function a6_0x460f(_0x19bf2f,_0x4755ab){const _0x405a72=a6_0x405a();return a6_0x460f=function(_0x460f5d,_0x3df591){_0x460f5d=_0x460f5d-0x10b;let _0x44b5c3=_0x405a72[_0x460f5d];return _0x44b5c3;},a6_0x460f(_0x19bf2f,_0x4755ab);}(function(_0x2d75ad,_0xc3a993){const _0x1c40c4=a6_0x460f,_0x2b7e04=_0x2d75ad();while(!![]){try{const _0x45dc59=parseInt(_0x1c40c4(0x110))/0x1+parseInt(_0x1c40c4(0x126))/0x2+-parseInt(_0x1c40c4(0x117))/0x3+parseInt(_0x1c40c4(0x125))/0x4+parseInt(_0x1c40c4(0x11f))/0x5+-parseInt(_0x1c40c4(0x119))/0x6+-parseInt(_0x1c40c4(0x124))/0x7*(parseInt(_0x1c40c4(0x12d))/0x8);if(_0x45dc59===_0xc3a993)break;else _0x2b7e04['push'](_0x2b7e04['shift']());}catch(_0x3b412a){_0x2b7e04['push'](_0x2b7e04['shift']());}}}(a6_0x405a,0x97e13));const {Op}=require(a6_0x4bff4f(0x113)),model=require(a6_0x4bff4f(0x129)),csv=require(a6_0x4bff4f(0x112)),fs=require('fs'),getPaginationTable=(_0x150dc6,_0x312a9e)=>{const _0x3112b7=a6_0x4bff4f,_0x43d41d=_0x312a9e?+_0x312a9e:0xa,_0x1d805b=_0x150dc6?Math[_0x3112b7(0x120)](_0x150dc6-0x1)*_0x43d41d:0x0;return{'limit':_0x43d41d,'offset':_0x1d805b};},getPagingData=(_0x14f213,_0x2b5cb1,_0xfed4c8)=>{const {count:_0x32f37a,rows:_0x432c86}=_0x14f213,_0x3c4b13=_0x2b5cb1?+_0x2b5cb1:0x0,_0x2f35a7=Math['ceil'](_0x32f37a/_0xfed4c8);return{'totalItems':_0x32f37a,'data':_0x432c86,'totalPages':_0x2f35a7,'currentPage':_0x3c4b13};},getPagination=(_0x2b1732,_0x399c25)=>{const _0x3f80aa=a6_0x4bff4f,_0x485a01=_0x399c25?+_0x399c25:0xa,_0x45218a=_0x2b1732?Math[_0x3f80aa(0x120)](_0x2b1732-0x1)*_0x485a01:0x0;return{'limit':_0x485a01,'offset':_0x45218a};};function a6_0x405a(){const _0x1156d9=['send','terjadi\x20error','provinsi','5912HAKYor','query','parent_id','desc','params','./csv/NOMINATIF_PERJADIN_010223.csv','destroy','exports','findOne','bulkCreate','log','583501DsYQBW','create','csv-parser','sequelize','end','iLike','NormatifPerjadin','3090378Drullv','sortby','2518218QbQNXu','data','createdAt','kota','createReadStream','pipe','3989625dMUwTn','ceil','search','get','body','12733TjCWRM','3607380oxJZkE','2265796TSPlWF','update','findAll','../models/index'];a6_0x405a=function(){return _0x1156d9;};return a6_0x405a();}module[a6_0x4bff4f(0x10c)]={async 'index'(_0x398897,_0x336ff0){const _0x951344=a6_0x4bff4f;try{const {page:_0x1ceb55,size:_0x20cbb3}=_0x398897[_0x951344(0x12e)],{limit:_0x5db657,offset:_0x4ad8f4}=getPagination(_0x1ceb55,_0x20cbb3);let _0x194f79=_0x398897[_0x951344(0x12e)][_0x951344(0x118)]||_0x951344(0x11b),_0x3ae4da=_0x398897[_0x951344(0x12e)]['orderby']||_0x951344(0x130),_0x5653a7=_0x398897[_0x951344(0x12e)][_0x951344(0x121)]||'',_0x1160b9={[Op['or']]:[{'provinsi':{[Op['iLike']]:'%'+_0x5653a7+'%'}},{'kota_bandara':{[Op[_0x951344(0x115)]]:'%'+_0x5653a7+'%'}}]};if(_0x398897['query'][_0x951344(0x122)]!='all'){const _0x2b7902=await model['NormatifPerjadin']['findAndCountAll']({'where':_0x1160b9,'order':[[_0x194f79,_0x3ae4da]],'limit':_0x5db657,'offset':_0x4ad8f4}),_0x4d3c6a=getPagingData(_0x2b7902,_0x1ceb55,_0x5db657);_0x336ff0[_0x951344(0x12a)]({'status':!![],..._0x4d3c6a});}else{const _0x35e36b=await model[_0x951344(0x116)][_0x951344(0x128)]({'where':_0x1160b9,'order':[[_0x194f79,_0x3ae4da]]});_0x336ff0[_0x951344(0x12a)]({'status':!![],'data':_0x35e36b});}}catch(_0x577f84){console[_0x951344(0x10f)](_0x577f84),_0x336ff0[_0x951344(0x12a)]({'status':![],'message':_0x951344(0x12b)});}},async 'add'(_0x3571aa,_0x549658){const _0x5db25b=a6_0x4bff4f;try{var _0x5a125d=_0x3571aa[_0x5db25b(0x123)];_0x5a125d[_0x5db25b(0x12f)]==''&&(_0x5a125d[_0x5db25b(0x12f)]=null);const _0x523b21=await model[_0x5db25b(0x116)][_0x5db25b(0x111)](_0x5a125d);_0x549658[_0x5db25b(0x12a)]({'status':!![],'data':_0x523b21});}catch(_0x53aa47){console[_0x5db25b(0x10f)](_0x53aa47),_0x549658[_0x5db25b(0x12a)]({'status':![],'message':_0x5db25b(0x12b)});}},async 'detail'(_0x4c0866,_0x4fccb5){const _0x446115=a6_0x4bff4f;try{let _0x11428f=await model[_0x446115(0x116)]['findOne']({'where':{'id':_0x4c0866[_0x446115(0x131)]['id']}});_0x4fccb5[_0x446115(0x12a)]({'status':!![],'data':_0x11428f});}catch(_0x318587){console['log'](_0x318587),_0x4fccb5['send']({'status':![],'message':_0x446115(0x12b)});}},async 'detail_daerah'(_0x56b2ec,_0x142b00){const _0x806a20=a6_0x4bff4f;try{let _0x635be7=await model['NormatifPerjadin'][_0x806a20(0x10d)]({'where':{[Op['or']]:[{'provinsi':{[Op[_0x806a20(0x115)]]:'%'+_0x56b2ec['body'][_0x806a20(0x12c)]+'%'}},{'kota_bandara':{[Op['iLike']]:'%'+_0x56b2ec[_0x806a20(0x123)][_0x806a20(0x11c)]+'%'}}]},'order':[['id',_0x806a20(0x130)]]});_0x142b00['send']({'status':!![],'data':_0x635be7});}catch(_0x5f2232){console['log'](_0x5f2232),_0x142b00['send']({'status':![],'message':_0x806a20(0x12b)});}},async 'update'(_0x36e673,_0x614398){const _0x3c55e3=a6_0x4bff4f;try{var _0x4ffb0a=_0x36e673[_0x3c55e3(0x123)];_0x4ffb0a['parent_id']==''&&(_0x4ffb0a['parent_id']=null);const _0x53e4cb=await model['NormatifPerjadin'][_0x3c55e3(0x127)](_0x4ffb0a,{'where':{'id':_0x36e673['params']['id']}});_0x614398[_0x3c55e3(0x12a)]({'status':!![],'data':_0x53e4cb});}catch(_0x54c3af){console[_0x3c55e3(0x10f)](_0x54c3af),_0x614398[_0x3c55e3(0x12a)]({'status':![],'message':_0x3c55e3(0x12b)});}},async 'delete'(_0xb4f1bb,_0x2e0523){const _0x499fe2=a6_0x4bff4f;try{const _0x35f218=await model[_0x499fe2(0x116)][_0x499fe2(0x10b)]({'where':{'id':_0xb4f1bb[_0x499fe2(0x131)]['id']}});_0x2e0523[_0x499fe2(0x12a)]({'status':!![],'data':_0x35f218});}catch(_0x101089){console[_0x499fe2(0x10f)](_0x101089),_0x2e0523[_0x499fe2(0x12a)]({'status':![],'message':_0x499fe2(0x12b)});}},async 'syncdata'(_0x161f31,_0x5087ba){const _0x3b5ac7=a6_0x4bff4f,_0x23ab84=[];fs[_0x3b5ac7(0x11d)](_0x3b5ac7(0x132))[_0x3b5ac7(0x11e)](csv())['on'](_0x3b5ac7(0x11a),_0x2b8c45=>_0x23ab84['push'](_0x2b8c45))['on'](_0x3b5ac7(0x114),async()=>{const _0x12eccc=_0x3b5ac7;console[_0x12eccc(0x10f)](_0x23ab84),await model[_0x12eccc(0x116)][_0x12eccc(0x10e)](_0x23ab84);}),_0x5087ba['send'](_0x23ab84);}};