const a6_0x3fc77e=a6_0x4324;(function(_0x5163e1,_0x163d3b){const _0x7bbebe=a6_0x4324,_0x51b4ac=_0x5163e1();while(!![]){try{const _0x29ffad=-parseInt(_0x7bbebe(0x20f))/0x1+-parseInt(_0x7bbebe(0x20a))/0x2+parseInt(_0x7bbebe(0x218))/0x3*(-parseInt(_0x7bbebe(0x1f9))/0x4)+-parseInt(_0x7bbebe(0x20d))/0x5+parseInt(_0x7bbebe(0x203))/0x6*(parseInt(_0x7bbebe(0x1f2))/0x7)+-parseInt(_0x7bbebe(0x213))/0x8*(parseInt(_0x7bbebe(0x205))/0x9)+-parseInt(_0x7bbebe(0x207))/0xa*(-parseInt(_0x7bbebe(0x214))/0xb);if(_0x29ffad===_0x163d3b)break;else _0x51b4ac['push'](_0x51b4ac['shift']());}catch(_0x14959f){_0x51b4ac['push'](_0x51b4ac['shift']());}}}(a6_0xd9d7,0xd3fe8));function a6_0x4324(_0x39166d,_0x3a2f31){const _0xd9d77d=a6_0xd9d7();return a6_0x4324=function(_0x432463,_0x5ad9e9){_0x432463=_0x432463-0x1f1;let _0x17b998=_0xd9d77d[_0x432463];return _0x17b998;},a6_0x4324(_0x39166d,_0x3a2f31);}const {Op}=require('sequelize'),model=require(a6_0x3fc77e(0x204)),csv=require(a6_0x3fc77e(0x20b)),fs=require('fs'),getPaginationTable=(_0x48608f,_0x2ded7b)=>{const _0x43996d=a6_0x3fc77e,_0xbdbc5d=_0x2ded7b?+_0x2ded7b:0xa,_0x26aaef=_0x48608f?Math[_0x43996d(0x1f5)](_0x48608f-0x1)*_0xbdbc5d:0x0;return{'limit':_0xbdbc5d,'offset':_0x26aaef};},getPagingData=(_0x2628a6,_0x4e3b38,_0x2a92ef)=>{const _0x3aa109=a6_0x3fc77e,{count:_0x249007,rows:_0x2e0e5e}=_0x2628a6,_0x14adbe=_0x4e3b38?+_0x4e3b38:0x0,_0x19e9d5=Math[_0x3aa109(0x1f5)](_0x249007/_0x2a92ef);return{'totalItems':_0x249007,'data':_0x2e0e5e,'totalPages':_0x19e9d5,'currentPage':_0x14adbe};},getPagination=(_0x51d2c7,_0x37553d)=>{const _0xe3a532=a6_0x3fc77e,_0x48253d=_0x37553d?+_0x37553d:0xa,_0x451d67=_0x51d2c7?Math[_0xe3a532(0x1f5)](_0x51d2c7-0x1)*_0x48253d:0x0;return{'limit':_0x48253d,'offset':_0x451d67};};module[a6_0x3fc77e(0x208)]={async 'index'(_0x2ff36c,_0x5da246){const _0x2e0d89=a6_0x3fc77e;try{const {page:_0x62e59,size:_0x2dfc61}=_0x2ff36c['query'],{limit:_0x4293ef,offset:_0x30332e}=getPagination(_0x62e59,_0x2dfc61);let _0x4bb638=_0x2ff36c['query']['sortby']||_0x2e0d89(0x1f8),_0x589ee7=_0x2ff36c[_0x2e0d89(0x1f7)]['orderby']||'desc',_0x23138d=_0x2ff36c['query'][_0x2e0d89(0x209)]||'',_0xf7609c={[Op['or']]:[{'provinsi':{[Op['iLike']]:'%'+_0x23138d+'%'}},{'kota_bandara':{[Op['iLike']]:'%'+_0x23138d+'%'}}]};if(_0x2ff36c[_0x2e0d89(0x1f7)][_0x2e0d89(0x1fe)]!=_0x2e0d89(0x20c)){const _0xdbfe95=await model[_0x2e0d89(0x1fd)][_0x2e0d89(0x217)]({'where':_0xf7609c,'order':[[_0x4bb638,_0x589ee7]],'limit':_0x4293ef,'offset':_0x30332e}),_0x69ce12=getPagingData(_0xdbfe95,_0x62e59,_0x4293ef);_0x5da246[_0x2e0d89(0x20e)]({'status':!![],..._0x69ce12});}else{const _0x55d2b7=await model[_0x2e0d89(0x1fd)][_0x2e0d89(0x201)]({'where':_0xf7609c,'order':[[_0x4bb638,_0x589ee7]]});_0x5da246[_0x2e0d89(0x20e)]({'status':!![],'data':_0x55d2b7});}}catch(_0x4ac956){console[_0x2e0d89(0x1f4)](_0x4ac956),_0x5da246['send']({'status':![],'message':_0x2e0d89(0x200)});}},async 'add'(_0x131fe6,_0x538d1d){const _0x148ef5=a6_0x3fc77e;try{var _0x34bb7b=_0x131fe6['body'];_0x34bb7b[_0x148ef5(0x1fb)]==''&&(_0x34bb7b[_0x148ef5(0x1fb)]=null);const _0x457e00=await model[_0x148ef5(0x1fd)][_0x148ef5(0x211)](_0x34bb7b);_0x538d1d['send']({'status':!![],'data':_0x457e00});}catch(_0x19b18c){console[_0x148ef5(0x1f4)](_0x19b18c),_0x538d1d['send']({'status':![],'message':'terjadi\x20error'});}},async 'detail'(_0x148ba7,_0xf09f80){const _0x3f0af2=a6_0x3fc77e;try{let _0x58614d=await model[_0x3f0af2(0x1fd)][_0x3f0af2(0x1fa)]({'where':{'id':_0x148ba7['params']['id']}});_0xf09f80[_0x3f0af2(0x20e)]({'status':!![],'data':_0x58614d});}catch(_0x286520){console[_0x3f0af2(0x1f4)](_0x286520),_0xf09f80['send']({'status':![],'message':_0x3f0af2(0x200)});}},async 'detail_daerah'(_0x154faa,_0x22c592){const _0x2035bd=a6_0x3fc77e;try{let _0x2c088f=await model[_0x2035bd(0x1fd)][_0x2035bd(0x1fa)]({'where':{[Op['or']]:[{'provinsi':{[Op['iLike']]:'%'+_0x154faa[_0x2035bd(0x210)]['provinsi']+'%'}},{'kota_bandara':{[Op[_0x2035bd(0x215)]]:'%'+_0x154faa[_0x2035bd(0x210)][_0x2035bd(0x216)]+'%'}}]},'order':[['id',_0x2035bd(0x1ff)]]});_0x22c592['send']({'status':!![],'data':_0x2c088f});}catch(_0x57da63){console['log'](_0x57da63),_0x22c592[_0x2035bd(0x20e)]({'status':![],'message':_0x2035bd(0x200)});}},async 'update'(_0x584e54,_0x6eb6f6){const _0x4f5a13=a6_0x3fc77e;try{var _0x3d6546=_0x584e54[_0x4f5a13(0x210)];_0x3d6546['parent_id']==''&&(_0x3d6546['parent_id']=null);const _0x2e72b0=await model[_0x4f5a13(0x1fd)][_0x4f5a13(0x1f1)](_0x3d6546,{'where':{'id':_0x584e54[_0x4f5a13(0x1f3)]['id']}});_0x6eb6f6[_0x4f5a13(0x20e)]({'status':!![],'data':_0x2e72b0});}catch(_0x57c65e){console[_0x4f5a13(0x1f4)](_0x57c65e),_0x6eb6f6[_0x4f5a13(0x20e)]({'status':![],'message':_0x4f5a13(0x200)});}},async 'delete'(_0x258d80,_0x5476cd){const _0x2d2d8f=a6_0x3fc77e;try{const _0x37d974=await model[_0x2d2d8f(0x1fd)][_0x2d2d8f(0x212)]({'where':{'id':_0x258d80[_0x2d2d8f(0x1f3)]['id']}});_0x5476cd[_0x2d2d8f(0x20e)]({'status':!![],'data':_0x37d974});}catch(_0x36835f){console[_0x2d2d8f(0x1f4)](_0x36835f),_0x5476cd[_0x2d2d8f(0x20e)]({'status':![],'message':_0x2d2d8f(0x200)});}},async 'syncdata'(_0x44289a,_0x1bbc66){const _0x35c871=a6_0x3fc77e,_0x388ab9=[];fs['createReadStream'](_0x35c871(0x1fc))[_0x35c871(0x1f6)](csv())['on']('data',_0x28d282=>_0x388ab9[_0x35c871(0x206)](_0x28d282))['on'](_0x35c871(0x219),async()=>{const _0x6ecfd6=_0x35c871;console[_0x6ecfd6(0x1f4)](_0x388ab9),await model[_0x6ecfd6(0x1fd)][_0x6ecfd6(0x202)](_0x388ab9);}),_0x1bbc66[_0x35c871(0x20e)](_0x388ab9);}};function a6_0xd9d7(){const _0x4ee2b0=['pipe','query','createdAt','8wegZlM','findOne','parent_id','./csv/NOMINATIF_PERJADIN_010223.csv','NormatifPerjadin','get','desc','terjadi\x20error','findAll','bulkCreate','65742cTKLsf','../models/index','603NekWcu','push','30BNZeQs','exports','search','1466812mmpPRU','csv-parser','all','5991340WkHQQw','send','891785buIdkx','body','create','destroy','68392OfhThW','20769001PGwapz','iLike','kota','findAndCountAll','2477571xzGelv','end','update','161rFNlYV','params','log','ceil'];a6_0xd9d7=function(){return _0x4ee2b0;};return a6_0xd9d7();}