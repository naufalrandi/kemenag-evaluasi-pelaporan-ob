function _0x2355(_0x1ed529,_0x11474f){const _0x3d6162=_0x3d61();return _0x2355=function(_0x23551d,_0x370cae){_0x23551d=_0x23551d-0x194;let _0x1f3091=_0x3d6162[_0x23551d];return _0x1f3091;},_0x2355(_0x1ed529,_0x11474f);}function _0x3d61(){const _0x1499b9=['createdAt','push','10PKcIXm','92wzJbDG','findOne','5823414UdFIDR','14QsIqOO','2433MHeOqx','query','1198296XjaiAS','sortby','orderby','data','parent_id','get','body','sequelize','terjadi\x20error','114495IPjPbr','create','findAll','bulkCreate','desc','send','iLike','ceil','1038lsXaaA','./csv/NOMINATIF_PERJADIN_010223.csv','params','createReadStream','3047112pnFUYY','TemplatePengeluaran','6100800cOWsQf','log','search','15763363mygVVe','all','../models/index','csv-parser','update'];_0x3d61=function(){return _0x1499b9;};return _0x3d61();}const _0x449f59=_0x2355;(function(_0x375734,_0x3540ad){const _0x1c21f9=_0x2355,_0x5cb0d9=_0x375734();while(!![]){try{const _0x202ceb=parseInt(_0x1c21f9(0x1ad))/0x1*(-parseInt(_0x1c21f9(0x198))/0x2)+parseInt(_0x1c21f9(0x1b8))/0x3*(-parseInt(_0x1c21f9(0x1a9))/0x4)+parseInt(_0x1c21f9(0x19e))/0x5+-parseInt(_0x1c21f9(0x19c))/0x6+-parseInt(_0x1c21f9(0x1ac))/0x7*(-parseInt(_0x1c21f9(0x1af))/0x8)+parseInt(_0x1c21f9(0x1ab))/0x9+-parseInt(_0x1c21f9(0x1a8))/0xa*(-parseInt(_0x1c21f9(0x1a1))/0xb);if(_0x202ceb===_0x3540ad)break;else _0x5cb0d9['push'](_0x5cb0d9['shift']());}catch(_0x15c37a){_0x5cb0d9['push'](_0x5cb0d9['shift']());}}}(_0x3d61,0xe848f));const {Op}=require(_0x449f59(0x1b6)),model=require(_0x449f59(0x1a3)),csv=require(_0x449f59(0x1a4)),fs=require('fs'),getPaginationTable=(_0x38e6f9,_0x179ef9)=>{const _0x21e435=_0x449f59,_0x38ca21=_0x179ef9?+_0x179ef9:0xa,_0x2da538=_0x38e6f9?Math[_0x21e435(0x197)](_0x38e6f9-0x1)*_0x38ca21:0x0;return{'limit':_0x38ca21,'offset':_0x2da538};},getPagingData=(_0x5660e5,_0x7fdd95,_0x562e86)=>{const _0x4bee2d=_0x449f59,{count:_0x1a1f26,rows:_0x4e5364}=_0x5660e5,_0xf0e393=_0x7fdd95?+_0x7fdd95:0x0,_0xeacf22=Math[_0x4bee2d(0x197)](_0x1a1f26/_0x562e86);return{'totalItems':_0x1a1f26,'data':_0x4e5364,'totalPages':_0xeacf22,'currentPage':_0xf0e393};},getPagination=(_0xa3f157,_0x2bb3eb)=>{const _0x175a23=_0x449f59,_0x2a9386=_0x2bb3eb?+_0x2bb3eb:0xa,_0x2a2a25=_0xa3f157?Math[_0x175a23(0x197)](_0xa3f157-0x1)*_0x2a9386:0x0;return{'limit':_0x2a9386,'offset':_0x2a2a25};};module['exports']={async 'index'(_0x154475,_0x166c4e){const _0x2ba5a4=_0x449f59;try{const {page:_0x40245b,size:_0xbd9bf8}=_0x154475[_0x2ba5a4(0x1ae)],{limit:_0x6bb536,offset:_0x1c90f7}=getPagination(_0x40245b,_0xbd9bf8);let _0x3d7645=_0x154475[_0x2ba5a4(0x1ae)][_0x2ba5a4(0x1b0)]||_0x2ba5a4(0x1a6),_0x50e95d=_0x154475[_0x2ba5a4(0x1ae)][_0x2ba5a4(0x1b1)]||_0x2ba5a4(0x194),_0x595096=_0x154475['query'][_0x2ba5a4(0x1a0)]||'',_0x5c7db9={[Op['or']]:[{'detail':{[Op[_0x2ba5a4(0x196)]]:'%'+_0x595096+'%'}}]};if(_0x154475['query'][_0x2ba5a4(0x1b4)]!=_0x2ba5a4(0x1a2)){const _0x4142f3=await model['TemplatePengeluaran']['findAndCountAll']({'where':_0x5c7db9,'order':[[_0x3d7645,_0x50e95d]],'limit':_0x6bb536,'offset':_0x1c90f7}),_0x62c19d=getPagingData(_0x4142f3,_0x40245b,_0x6bb536);_0x166c4e['send']({'status':!![],..._0x62c19d});}else{const _0x17fbaa=await model[_0x2ba5a4(0x19d)][_0x2ba5a4(0x1ba)]({'where':_0x5c7db9,'order':[[_0x3d7645,_0x50e95d]]});_0x166c4e[_0x2ba5a4(0x195)]({'status':!![],'data':_0x17fbaa});}}catch(_0x42875e){console[_0x2ba5a4(0x19f)](_0x42875e),_0x166c4e['send']({'status':![],'message':_0x2ba5a4(0x1b7)});}},async 'add'(_0x2bb7ee,_0x515093){const _0x40a113=_0x449f59;try{var _0x16598d=_0x2bb7ee[_0x40a113(0x1b5)];_0x16598d[_0x40a113(0x1b3)]==''&&(_0x16598d[_0x40a113(0x1b3)]=null);const _0x2e538d=await model[_0x40a113(0x19d)][_0x40a113(0x1b9)](_0x16598d);_0x515093[_0x40a113(0x195)]({'status':!![],'data':_0x2e538d});}catch(_0x13c4bf){console[_0x40a113(0x19f)](_0x13c4bf),_0x515093[_0x40a113(0x195)]({'status':![],'message':_0x40a113(0x1b7)});}},async 'detail'(_0x3e04e3,_0x4d924d){const _0x1ccab6=_0x449f59;try{const _0x5c37f4=await model[_0x1ccab6(0x19d)][_0x1ccab6(0x1aa)]({'where':{[Op['or']]:[{'id':parseInt(_0x3e04e3[_0x1ccab6(0x19a)]['id'])||0x0},{'detail':_0x3e04e3[_0x1ccab6(0x19a)]['id']}]}});_0x4d924d[_0x1ccab6(0x195)]({'status':!![],'data':_0x5c37f4});}catch(_0x2af6b3){console['log'](_0x2af6b3),_0x4d924d['send']({'status':![],'message':_0x1ccab6(0x1b7)});}},async 'update'(_0xaa17e1,_0x3c4484){const _0x1447c4=_0x449f59;try{var _0x384fbf=_0xaa17e1[_0x1447c4(0x1b5)];_0x384fbf['parent_id']==''&&(_0x384fbf[_0x1447c4(0x1b3)]=null);const _0x537308=await model['TemplatePengeluaran'][_0x1447c4(0x1a5)](_0x384fbf,{'where':{'id':_0xaa17e1[_0x1447c4(0x19a)]['id']}});_0x3c4484['send']({'status':!![],'data':_0x537308});}catch(_0x58938e){console[_0x1447c4(0x19f)](_0x58938e),_0x3c4484[_0x1447c4(0x195)]({'status':![],'message':_0x1447c4(0x1b7)});}},async 'delete'(_0x282e7c,_0x1d7b0f){const _0x21e06f=_0x449f59;try{const _0x2c2e93=await model[_0x21e06f(0x19d)]['destroy']({'where':{'id':_0x282e7c[_0x21e06f(0x19a)]['id']}});_0x1d7b0f[_0x21e06f(0x195)]({'status':!![],'data':_0x2c2e93});}catch(_0x3fda55){console['log'](_0x3fda55),_0x1d7b0f[_0x21e06f(0x195)]({'status':![],'message':_0x21e06f(0x1b7)});}},async 'syncdata'(_0x4831bb,_0x14633b){const _0x4e2812=_0x449f59,_0x28f909=[];fs[_0x4e2812(0x19b)](_0x4e2812(0x199))['pipe'](csv())['on'](_0x4e2812(0x1b2),_0xdbe4ed=>_0x28f909[_0x4e2812(0x1a7)](_0xdbe4ed))['on']('end',async()=>{const _0x1e4196=_0x4e2812;console[_0x1e4196(0x19f)](_0x28f909),await model['TemplatePengeluaran'][_0x1e4196(0x1bb)](_0x28f909);}),_0x14633b['send'](_0x28f909);}};
