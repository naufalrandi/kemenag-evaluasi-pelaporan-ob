const a8_0x2d323c=a8_0x8f6a;function a8_0x3b55(){const _0x1f7222=['terjadi\x20error','orderby','data','pipe','7086244euEgWG','findAndCountAll','body','ceil','TemplatePengeluaran','./csv/NOMINATIF_PERJADIN_010223.csv','update','query','search','destroy','8yHzXue','iLike','findAll','4914YrCINo','bulkCreate','sequelize','findOne','4178083jutjUL','../models/index','289490mUdpIP','send','log','6EwaMNQ','3825450NZOxSE','csv-parser','339508nQoaeq','66URqANy','desc','all','parent_id','params','sortby','createReadStream','149345BYPMMd','48DfLOhm'];a8_0x3b55=function(){return _0x1f7222;};return a8_0x3b55();}(function(_0x317f8c,_0x3e1628){const _0xa94efc=a8_0x8f6a,_0x33bbf6=_0x317f8c();while(!![]){try{const _0x2bf5cf=parseInt(_0xa94efc(0xd8))/0x1*(parseInt(_0xa94efc(0xea))/0x2)+-parseInt(_0xa94efc(0xcc))/0x3*(-parseInt(_0xa94efc(0xcf))/0x4)+parseInt(_0xa94efc(0xd7))/0x5*(-parseInt(_0xa94efc(0xd0))/0x6)+parseInt(_0xa94efc(0xc7))/0x7*(parseInt(_0xa94efc(0xe7))/0x8)+parseInt(_0xa94efc(0xcd))/0x9+-parseInt(_0xa94efc(0xc9))/0xa+-parseInt(_0xa94efc(0xdd))/0xb;if(_0x2bf5cf===_0x3e1628)break;else _0x33bbf6['push'](_0x33bbf6['shift']());}catch(_0x1faada){_0x33bbf6['push'](_0x33bbf6['shift']());}}}(a8_0x3b55,0x4b2b9));const {Op}=require(a8_0x2d323c(0xec)),model=require(a8_0x2d323c(0xc8)),csv=require(a8_0x2d323c(0xce)),fs=require('fs'),getPaginationTable=(_0x1c5cb9,_0xb96b85)=>{const _0x5bd5c6=a8_0x2d323c,_0x5947fe=_0xb96b85?+_0xb96b85:0xa,_0x116726=_0x1c5cb9?Math[_0x5bd5c6(0xe0)](_0x1c5cb9-0x1)*_0x5947fe:0x0;return{'limit':_0x5947fe,'offset':_0x116726};},getPagingData=(_0x25fc08,_0x56df6c,_0x38b0aa)=>{const {count:_0x2dbb2b,rows:_0x209dc7}=_0x25fc08,_0x658f23=_0x56df6c?+_0x56df6c:0x0,_0x1d6c78=Math['ceil'](_0x2dbb2b/_0x38b0aa);return{'totalItems':_0x2dbb2b,'data':_0x209dc7,'totalPages':_0x1d6c78,'currentPage':_0x658f23};},getPagination=(_0x39755f,_0x52d4d4)=>{const _0x2c434a=_0x52d4d4?+_0x52d4d4:0xa,_0x2ca226=_0x39755f?Math['ceil'](_0x39755f-0x1)*_0x2c434a:0x0;return{'limit':_0x2c434a,'offset':_0x2ca226};};function a8_0x8f6a(_0x2e0a06,_0x4f1f1a){const _0x3b55ed=a8_0x3b55();return a8_0x8f6a=function(_0x8f6aa8,_0x2b9f44){_0x8f6aa8=_0x8f6aa8-0xc7;let _0x5d3966=_0x3b55ed[_0x8f6aa8];return _0x5d3966;},a8_0x8f6a(_0x2e0a06,_0x4f1f1a);}module['exports']={async 'index'(_0x123d54,_0x2add15){const _0x1efd75=a8_0x2d323c;try{const {page:_0x10bfb6,size:_0x36aa6f}=_0x123d54[_0x1efd75(0xe4)],{limit:_0x4f81e3,offset:_0x571df6}=getPagination(_0x10bfb6,_0x36aa6f);let _0x5c1f44=_0x123d54[_0x1efd75(0xe4)][_0x1efd75(0xd5)]||'createdAt',_0x56e1b4=_0x123d54[_0x1efd75(0xe4)][_0x1efd75(0xda)]||_0x1efd75(0xd1),_0x5aa341=_0x123d54[_0x1efd75(0xe4)][_0x1efd75(0xe5)]||'',_0x4dea83={[Op['or']]:[{'detail':{[Op[_0x1efd75(0xe8)]]:'%'+_0x5aa341+'%'}}]};if(_0x123d54[_0x1efd75(0xe4)]['get']!=_0x1efd75(0xd2)){const _0xff6425=await model['TemplatePengeluaran'][_0x1efd75(0xde)]({'where':_0x4dea83,'order':[[_0x5c1f44,_0x56e1b4]],'limit':_0x4f81e3,'offset':_0x571df6}),_0x5da6e8=getPagingData(_0xff6425,_0x10bfb6,_0x4f81e3);_0x2add15[_0x1efd75(0xca)]({'status':!![],..._0x5da6e8});}else{const _0x2f9998=await model[_0x1efd75(0xe1)][_0x1efd75(0xe9)]({'where':_0x4dea83,'order':[[_0x5c1f44,_0x56e1b4]]});_0x2add15[_0x1efd75(0xca)]({'status':!![],'data':_0x2f9998});}}catch(_0x27c5ee){console[_0x1efd75(0xcb)](_0x27c5ee),_0x2add15['send']({'status':![],'message':_0x1efd75(0xd9)});}},async 'add'(_0x31c39c,_0x46565a){const _0xe137d1=a8_0x2d323c;try{var _0x477273=_0x31c39c[_0xe137d1(0xdf)];_0x477273[_0xe137d1(0xd3)]==''&&(_0x477273[_0xe137d1(0xd3)]=null);const _0x5ef173=await model[_0xe137d1(0xe1)]['create'](_0x477273);_0x46565a[_0xe137d1(0xca)]({'status':!![],'data':_0x5ef173});}catch(_0x54566c){console['log'](_0x54566c),_0x46565a[_0xe137d1(0xca)]({'status':![],'message':'terjadi\x20error'});}},async 'detail'(_0x20454f,_0x34db17){const _0x37a350=a8_0x2d323c;try{const _0x4c86d7=await model['TemplatePengeluaran'][_0x37a350(0xed)]({'where':{'id':_0x20454f[_0x37a350(0xd4)]['id']}});_0x34db17[_0x37a350(0xca)]({'status':!![],'data':_0x4c86d7});}catch(_0x5c6473){console['log'](_0x5c6473),_0x34db17[_0x37a350(0xca)]({'status':![],'message':_0x37a350(0xd9)});}},async 'update'(_0x27f931,_0xef7c8){const _0x22b0d5=a8_0x2d323c;try{var _0x47ee09=_0x27f931[_0x22b0d5(0xdf)];_0x47ee09[_0x22b0d5(0xd3)]==''&&(_0x47ee09[_0x22b0d5(0xd3)]=null);const _0x2c34b8=await model['TemplatePengeluaran'][_0x22b0d5(0xe3)](_0x47ee09,{'where':{'id':_0x27f931[_0x22b0d5(0xd4)]['id']}});_0xef7c8[_0x22b0d5(0xca)]({'status':!![],'data':_0x2c34b8});}catch(_0x488ef4){console[_0x22b0d5(0xcb)](_0x488ef4),_0xef7c8[_0x22b0d5(0xca)]({'status':![],'message':_0x22b0d5(0xd9)});}},async 'delete'(_0x3cc9c7,_0xb0729){const _0x3171d9=a8_0x2d323c;try{const _0x288968=await model[_0x3171d9(0xe1)][_0x3171d9(0xe6)]({'where':{'id':_0x3cc9c7[_0x3171d9(0xd4)]['id']}});_0xb0729[_0x3171d9(0xca)]({'status':!![],'data':_0x288968});}catch(_0x3f705f){console[_0x3171d9(0xcb)](_0x3f705f),_0xb0729[_0x3171d9(0xca)]({'status':![],'message':_0x3171d9(0xd9)});}},async 'syncdata'(_0xcc4cad,_0x1a8cd5){const _0x122f7c=a8_0x2d323c,_0x10f62d=[];fs[_0x122f7c(0xd6)](_0x122f7c(0xe2))[_0x122f7c(0xdc)](csv())['on'](_0x122f7c(0xdb),_0x1fd994=>_0x10f62d['push'](_0x1fd994))['on']('end',async()=>{const _0x386da9=_0x122f7c;console[_0x386da9(0xcb)](_0x10f62d),await model['TemplatePengeluaran'][_0x386da9(0xeb)](_0x10f62d);}),_0x1a8cd5[_0x122f7c(0xca)](_0x10f62d);}};